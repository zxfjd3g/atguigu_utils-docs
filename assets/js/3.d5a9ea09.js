(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{349:function(t,s,a){t.exports=a.p+"assets/img/image-20201204150917555.f1e4a9c5.png"},350:function(t,s,a){t.exports=a.p+"assets/img/image-20201204151301849.ccbd7c05.png"},351:function(t,s,a){t.exports=a.p+"assets/img/image-20201210143938993.227d51a0.png"},352:function(t,s,a){t.exports=a.p+"assets/img/image-20201204153505733.ef73a7ee.png"},365:function(t,s,a){"use strict";a.r(s);var n=a(40),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_2-发布到npm中央仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-发布到npm中央仓库"}},[t._v("#")]),t._v(" 2.发布到npm中央仓库")]),t._v(" "),n("h2",{attrs:{id:"_2-1-完善-package-json"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-完善-package-json"}},[t._v("#")]),t._v(" 2.1.完善 package.json")]),t._v(" "),n("ul",[n("li",[t._v("注意:\n"),n("ul",[n("li",[t._v("name: 必须是唯一的名称(在npm在线中央仓库中没有同名的)")]),t._v(" "),n("li",[t._v("main: 必须指定为打包生成的js文件")]),t._v(" "),n("li",[t._v("keywords: 指定一些方便别的程序员搜索到当前库的关键字")])])])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utils"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"author"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xfzhang"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"尚硅谷-前端-自定义工具函数库"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"keywords"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"atguigu"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utils"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"array"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"string"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"axios"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"event-bus"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pub-sub"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"promise"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist/atguigu-utils.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"license"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MIT"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build:watch"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --watch"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.10.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"webpack-cli"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.2.0"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"_2-2-npm配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-npm配置"}},[t._v("#")]),t._v(" 2.2.npm配置")]),t._v(" "),n("ul",[n("li",[t._v("npm配置的中央仓库不能是淘宝镜像")]),t._v(" "),n("li",[t._v("发布前必须执行:  npm config set registry https://registry.npmjs.org/")]),t._v(" "),n("li",[t._v("不用发布时: npm config set registry http://registry.npm.taobao.org/")]),t._v(" "),n("li",[t._v("查看配置: npm config list")])]),t._v(" "),n("h2",{attrs:{id:"_2-3-注册npm中央仓库账号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-注册npm中央仓库账号"}},[t._v("#")]),t._v(" 2.3.注册npm中央仓库账号")]),t._v(" "),n("ul",[n("li",[t._v("注册地址: https://www.npmjs.com/")]),t._v(" "),n("li",[t._v("关键信息: 用户名/密码/邮箱("),n("font",{attrs:{color:"red"}},[t._v("需要验证")]),t._v(")")],1)]),t._v(" "),n("p",[n("img",{attrs:{src:a(349),alt:"image-20201204150917555"}})]),t._v(" "),n("h2",{attrs:{id:"_2-4-添加用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-添加用户"}},[t._v("#")]),t._v(" 2.4.添加用户")]),t._v(" "),n("ul",[n("li",[t._v("执行: npm addUser")]),t._v(" "),n("li",[t._v("登陆npm仓库")]),t._v(" "),n("li",[t._v("依次指定用户名/密码/邮箱")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(350),alt:"image-20201204151301849"}})]),t._v(" "),n("h2",{attrs:{id:"_2-5-发布仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-发布仓库"}},[t._v("#")]),t._v(" 2.5.发布仓库")]),t._v(" "),n("ul",[n("li",[t._v("执行: npm publish")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(351),alt:"image-20201210143938993"}})]),t._v(" "),n("ul",[n("li",[t._v("发布失败, 原因是库的名称重复了, 修改name为一个唯一值, 再发布")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(352),alt:"image-20201204153505733"}})]),t._v(" "),n("h2",{attrs:{id:"_2-6-更新代码后再发布"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-更新代码后再发布"}},[t._v("#")]),t._v(" 2.6.更新代码后再发布")]),t._v(" "),n("ul",[n("li",[t._v("修改项目库的版本号: package.json 中的version 从1.0.0 改为1.0.1, 注意一定要变大")]),t._v(" "),n("li",[t._v("修改代码后重新打包: npm run build")]),t._v(" "),n("li",[t._v("执行发布: npm publish")])]),t._v(" "),n("h2",{attrs:{id:"_2-7-强制删除已发布的库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-强制删除已发布的库"}},[t._v("#")]),t._v(" 2.7.强制删除已发布的库")]),t._v(" "),n("ul",[n("li",[t._v("执行: npm unpublish --force")]),t._v(" "),n("li",[t._v("注意: 必须在72小时内, 否则不能再删除")])])])}),[],!1,null,null,null);s.default=r.exports}}]);